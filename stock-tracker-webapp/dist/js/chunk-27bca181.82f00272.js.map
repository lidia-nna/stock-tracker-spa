{"version":3,"sources":["webpack:///./src/components/WeeklyChart.vue?f530","webpack:///./src/components/WeeklyChart.vue?e6e3","webpack:///src/components/WeeklyChart.vue","webpack:///./src/components/WeeklyChart.vue?7c59","webpack:///./src/components/WeeklyChart.vue?5d9e"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","symbol","on","$event","console","log","staticRenderFns","name","props","type","String","data","computed","methods","plotChart","config","timeSeries","close","trace","x","open","low","high","increasing","decreasing","xaxis","yaxis","layout","dragmode","showlegend","yatimeis","plot_bgcolor","plt","paper_bgcolor","font","color","autorange","title","gridcolor","rangebreaks","rangeselector","component","VCard"],"mappings":"kHAAA,W,gECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKN,EAAIO,OAAS,SAASC,GAAG,CAAC,gBAAkB,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,iBACzMC,EAAkB,G,iFCQtB,GACEC,KAAM,cACNC,MAAF,CACIP,OAAQ,CACNQ,KAAMC,SAGVC,KAPF,WAQI,MAAJ,CACM,OAAN,SAGEC,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,WAAJ,YAAM,OAAN,uBAEA,qCAGEC,QAAS,OAAX,OAAW,CAAX,CAEIC,UAFJ,WAGMV,QAAQC,IAAI,SAAUV,KAAKoB,QAC3BX,QAAQC,IAAIV,KAAKqB,WAAWC,OAC5B,IAAIC,EAAQ,CACVC,EAAGxB,KAAKqB,WAAWG,EACnBF,MAAOtB,KAAKqB,WAAWC,MACvBG,KAAMzB,KAAKqB,WAAWI,KACtBC,IAAK1B,KAAKqB,WAAWK,IACrBC,KAAM3B,KAAKqB,WAAWM,KACtBC,WAAY,CAApB,gDACQC,WAAY,CAApB,8CACQf,KAAM,OACNgB,MAAR,IACQC,MAAO,KAELf,EAAO,CAACO,GAERS,EAAS,CACXC,SAAU,OACVC,YAAY,EACZC,SAAU,CAAlB,oBACQC,aAAcpC,KAAKoB,OAAOiB,IAAIL,OAAOI,aACrCE,cAAR,qCACQC,KAAM,CACJC,MAAOxC,KAAKoB,OAAOiB,IAAIL,OAAOO,KAAKC,OAErCV,MAAO,CACLW,WAAW,EACXC,MAAO,OACPC,UAAW3C,KAAKoB,OAAOiB,IAAIL,OAAOF,MAAMa,UACxCC,YAAa,CACvB,CAAY,QAAZ,OAAY,OAAZ,QACA,CAAY,QAAZ,cAAY,OAAZ,gBAEUC,cAAe,CACb,EAAZ,EACY,EAAZ,IACY,QAAZ,OACY,KAAZ,CACc,KAAd,GACc,MAAd,SAEY,QAAZ,4CACY,YAAZ,gDAIY,QAAZ,EACc,KAAd,MACc,SAAd,WACc,MAAd,EACc,MAAd,SACA,CACc,KAAd,MACc,SAAd,WACc,MAAd,EACc,MAAd,UACA,CACc,KAAd,MACc,MAAd,aAIQd,MAAO,CACLU,WAAW,EACXC,MAAO,mBACPC,UAAW3C,KAAKoB,OAAOiB,IAAIL,OAAOD,MAAMY,YAIlD,GAAQ,YAAR,GACA,yCAIA,oCAEE,QAlGF,WAkGI,IAAJ,OAAI,OAAJ,6IACA,6DADA,SAEA,2BAFA,OAGA,cAHA,+CC3GqV,I,yDCQjVG,EAAY,eACd,EACAhD,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAAmC,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,QAAA","file":"js/chunk-27bca181.82f00272.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklyChart.vue?vue&type=style&index=0&id=1c8b6924&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"id\":_vm.symbol + '_week'},on:{\"plotly_relayout\":function($event){return _vm.console.log(\"Relayout\")}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card :id=\"symbol + '_week'\" @plotly_relayout='console.log(\"Relayout\")'></v-card>\n</template>\n\n<script>\nimport Plotly from 'plotly.js';\nimport { mapActions, mapGetters, mapState } from 'vuex';\nimport config from '../config.js';\n\nexport default {\n  name: 'WeeklyChart',\n  props:{\n    symbol: {\n      type: String\n    }\n  },\n  data(){\n      return {\n        config: config\n      }\n  },\n  computed: {\n      ...mapState({\n          timeSeries: (state) => state.history.lastWeek\n      }),\n      ...mapGetters(['isLastWeekEmpty'])\n      \n  },\n  methods: {\n\n    plotChart() {\n      console.log('config', this.config)\n      console.log(this.timeSeries.close)\n      var trace = {\n        x: this.timeSeries.x,\n        close: this.timeSeries.close,\n        open: this.timeSeries.open,\n        low: this.timeSeries.low,\n        high: this.timeSeries.high,\n        increasing: {line: {color: this.config.plt.trace.color.green}},\n        decreasing: {line: {color: this.config.plt.trace.color.red}},\n        type: 'ohlc',\n        xaxis:'x',\n        yaxis: 'y'\n    };\n      var data = [trace] ;\n\n      var layout = {\n        dragmode: 'zoom',\n        showlegend: false,\n        yatimeis: {title: 'Value [£p]'},\n        plot_bgcolor: this.config.plt.layout.plot_bgcolor,\n        paper_bgcolor:this.config.plt.layout.paper_bgcolor,\n        font: {\n          color: this.config.plt.layout.font.color\n        },\n        xaxis: {\n          autorange: true,\n          title: 'Time',\n          gridcolor: this.config.plt.layout.xaxis.gridcolor,\n          rangebreaks: [\n            {pattern: 'hour', bounds: [17,8]},\n            {pattern: 'day of week', bounds: ['sat','mon']}\n          ],\n          rangeselector: {\n              x: 0,\n              y: 1.2,\n              xanchor: 'left',\n              font: {\n                size:12,\n                color: \"black\",\n              },\n              bgcolor: this.config.plt.rangeslider.buttons.bgcolor,\n              activecolor: this.config.plt.rangeslider.buttons.activecolor,\n              //bordercolor: '#aaffff',//this.config.plt.rangeslider.buttons.bgcolor,\n              //borderwidth: '5px',\n              //borderradius: '20px',\n              buttons: [{\n                  step: 'day',\n                  stepmode: 'backward',\n                  count: 1,\n                  label: '1 DAY',\n              }, {\n                  step: 'day',\n                  stepmode: 'backward',\n                  count: 3,\n                  label: '3 DAYS'\n              }, {\n                  step: 'all',\n                  label: '1 WEEK'\n              }]\n          }\n        },\n        yaxis: {\n          autorange: true,\n          title: \"Share Value [£p]\",\n          gridcolor: this.config.plt.layout.yaxis.gridcolor\n        }\n      }\n      \n        var config = {responsive: true}\n    Plotly.newPlot(this.symbol + '_week', data, layout, config);\n\n      \n      },\n      ...mapActions(['lastWeeksTrace']),\n  },\n    async mounted() {\n      console.log('CandleChart: mounted, current route:',this.$route)\n      await this.lastWeeksTrace(this.symbol)\n      this.plotChart()\n       \n     \n   \n    \n  }\n//   updated() {\n//     this.plotChart()\n//   }\n//     getTimeSeries() {\n//       axios.get(`http://localhost:5000/charts/alltime?ticker=${this.symbol}`)\n//       .then(response => {\n//         this.timeSeries.x = response.data.Date;\n//         this.timeSeries.close = response.data.Close\n//         this.timeSeries.open = response.data.Open\n//         this.timeSeries.low = response.data.Low\n//         this.timeSeries.high = response.data.High\n//         this.plotChart()\n//       })\n//       .then(error => {\n//         console.log(error)\n//       })\n//     }\n//   },\n\n//       this.symbol = this.$route.params.ticker_symbol;\n//       console.log('fts', this.fts)\n//       this.getTimeSeries()\n\n}\n</script>\n\n<style scoped>\ndiv {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklyChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WeeklyChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WeeklyChart.vue?vue&type=template&id=1c8b6924&scoped=true&\"\nimport script from \"./WeeklyChart.vue?vue&type=script&lang=js&\"\nexport * from \"./WeeklyChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WeeklyChart.vue?vue&type=style&index=0&id=1c8b6924&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c8b6924\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard})\n"],"sourceRoot":""}