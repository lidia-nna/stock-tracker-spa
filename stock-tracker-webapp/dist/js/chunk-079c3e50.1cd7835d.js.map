{"version":3,"sources":["webpack:///./src/components/YearlyChart.vue?0dcc","webpack:///./src/components/YearlyChart.vue?66f2","webpack:///src/components/YearlyChart.vue","webpack:///./src/components/YearlyChart.vue?9b2c","webpack:///./src/components/YearlyChart.vue?6097"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","symbol","on","$event","console","log","staticRenderFns","name","props","type","String","data","computed","methods","plotChart","trace","x","timeSeries","close","open","low","high","increasing","decreasing","xaxis","yaxis","layout","dragmode","showlegend","plot_bgcolor","config","plt","paper_bgcolor","font","color","gridcolor","autorange","title","component","VCard"],"mappings":"2IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKN,EAAIO,OAAS,SAASC,GAAG,CAAC,gBAAkB,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,iBACzMC,EAAkB,G,iFCQtB,GACEC,KAAM,cACNC,MAAF,CACIP,OAAQ,CACNQ,KAAMC,SAGVC,KAPF,WAQI,MAAJ,CACM,OAAN,SAGEC,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,WAAJ,YAAM,OAAN,uBAEA,qCAGEC,QAAS,OAAX,OAAW,CAAX,CACIC,UADJ,WAEM,IAAIC,EAAQ,CACVC,EAAGrB,KAAKsB,WAAWD,EACnBE,MAAOvB,KAAKsB,WAAWC,MACvBC,KAAMxB,KAAKsB,WAAWE,KACtBC,IAAKzB,KAAKsB,WAAWG,IACrBC,KAAM1B,KAAKsB,WAAWI,KACtBC,WAAY,CAApB,gDACQC,WAAY,CAApB,8CACQd,KAAM,OACNe,MAAR,IACQC,MAAO,KAELd,EAAO,CAACI,GAERW,EAAS,CACXC,SAAU,OACVC,YAAY,EACZC,aAAclC,KAAKmC,OAAOC,IAAIL,OAAOG,aACrCG,cAAerC,KAAKmC,OAAOC,IAAIL,OAAOM,cACtCC,KAAM,CACJC,MAAOvC,KAAKmC,OAAOC,IAAIL,OAAOO,KAAKC,OAErCV,MAAO,CACLW,UAAWxC,KAAKmC,OAAOC,IAAIL,OAAOF,MAAMW,UACxCC,WAAW,EACXC,MAAO,OACjB,eACY,EAAZ,EACY,EAAZ,IACY,QAAZ,OACY,KAAZ,CACc,KAAd,GACc,MAAd,SAEY,QAAZ,4CACY,YAAZ,gDACY,QAAZ,EACc,KAAd,QACc,SAAd,WACc,MAAd,EACc,MAAd,WACA,CACc,KAAd,QACc,SAAd,WACc,MAAd,EACc,MAAd,YACA,CACc,KAAd,MACc,MAAd,aAIQZ,MAAO,CACLU,UAAWxC,KAAKmC,OAAOC,IAAIL,OAAOD,MAAMU,UACxCC,WAAW,EACXC,MAAO,qBAGPP,EAAS,CAAnB,eACA,yCAIA,oCAEE,QAtFF,WAsFI,IAAJ,OAAI,OAAJ,6IACA,6DADA,SAQA,2BARA,OASA,cATA,+CC/FqV,I,yDCQjVQ,EAAY,eACd,EACA7C,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAAgC,EAAiB,QAKhC,IAAkBA,EAAW,CAACC,QAAA","file":"js/chunk-079c3e50.1cd7835d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearlyChart.vue?vue&type=style&index=0&id=336e0912&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"id\":_vm.symbol + '_year'},on:{\"plotly_relayout\":function($event){return _vm.console.log(\"Relayout\")}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-card :id=\"symbol + '_year'\" @plotly_relayout='console.log(\"Relayout\")'></v-card>\n</template>\n\n<script>\nimport Plotly from 'plotly.js';\nimport { mapActions, mapState,  mapGetters} from 'vuex';\nimport config from '../config.js';\n\nexport default {\n  name: 'YearlyChart',\n  props:{\n    symbol: {\n      type: String\n    }\n  },\n  data(){\n      return {\n        config: config\n      }\n  },\n  computed: {\n      ...mapState({\n          timeSeries: (state) => state.history.lastYear\n      }),\n      ...mapGetters(['isLastYearEmpty'])\n      \n  },\n  methods: {\n    plotChart() {\n      var trace = {\n        x: this.timeSeries.x,\n        close: this.timeSeries.close,\n        open: this.timeSeries.open,\n        low: this.timeSeries.low,\n        high: this.timeSeries.high,\n        increasing: {line: {color: this.config.plt.trace.color.green}},\n        decreasing: {line: {color: this.config.plt.trace.color.red}},\n        type: 'ohlc',\n        xaxis:'x',\n        yaxis: 'y'\n    };\n      var data = [trace] ;\n\n      var layout = {\n        dragmode: 'zoom',\n        showlegend: false,\n        plot_bgcolor: this.config.plt.layout.plot_bgcolor,\n        paper_bgcolor: this.config.plt.layout.paper_bgcolor,\n        font: {\n          color: this.config.plt.layout.font.color\n        },\n        xaxis: {\n          gridcolor: this.config.plt.layout.xaxis.gridcolor,\n          autorange: true,\n          title: 'Time',\n        rangeselector: {\n              x: 0,\n              y: 1.2,\n              xanchor: 'left',\n              font: {\n                size:12,\n                color: 'black'\n                },\n              bgcolor: this.config.plt.rangeslider.buttons.bgcolor,\n              activecolor: this.config.plt.rangeslider.buttons.activecolor,\n              buttons: [{\n                  step: 'month',\n                  stepmode: 'backward',\n                  count: 1,\n                  label: '1 MONTH'\n              }, {\n                  step: 'month',\n                  stepmode: 'backward',\n                  count: 6,\n                  label: '6 MONTHS'\n              }, {\n                  step: 'all',\n                  label: '1 YEAR'\n              }]\n            }\n        },\n        yaxis: {\n          gridcolor: this.config.plt.layout.yaxis.gridcolor,\n          autorange: true,\n          title: \"Share Value [Â£p]\"\n        }\n      }\n      var config = {responsive: true}\n    Plotly.newPlot(this.symbol + '_year', data, layout, config);\n\n      \n      },\n      ...mapActions(['lastYearsTrace']),\n  },\n    async mounted() {\n      console.log('YearlyChart: mounted, current route:', this.$route)\n      // if (this.isLastYearEmpty) {\n      //     await this.lastYearsTrace(this.symbol)\n      //     this.plotChart()\n      // } else {\n      //   this.plotChart()\n      // }\n      await this.lastYearsTrace(this.symbol)\n      this.plotChart()\n      \n    \n  }\n//   updated() {\n//     this.plotChart()\n//   }\n//     getTimeSeries() {\n//       axios.get(`http://localhost:5000/charts/alltime?ticker=${this.symbol}`)\n//       .then(response => {\n//         this.timeSeries.x = response.data.Date;\n//         this.timeSeries.close = response.data.Close\n//         this.timeSeries.open = response.data.Open\n//         this.timeSeries.low = response.data.Low\n//         this.timeSeries.high = response.data.High\n//         this.plotChart()\n//       })\n//       .then(error => {\n//         console.log(error)\n//       })\n//     }\n//   },\n\n//       this.symbol = this.$route.params.ticker_symbol;\n//       console.log('fts', this.fts)\n//       this.getTimeSeries()\n\n}\n</script>\n\n<style scoped>\ndiv {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearlyChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YearlyChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YearlyChart.vue?vue&type=template&id=336e0912&scoped=true&\"\nimport script from \"./YearlyChart.vue?vue&type=script&lang=js&\"\nexport * from \"./YearlyChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YearlyChart.vue?vue&type=style&index=0&id=336e0912&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"336e0912\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard})\n"],"sourceRoot":""}