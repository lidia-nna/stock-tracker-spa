(function(e){function t(t){for(var n,a,c=t[0],l=t[1],u=t[2],d=t[3]||[],m=0,p=[];m<c.length;m++)a=c[m],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);f&&f(t),i.push.apply(i,d);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==s[u]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=r[0]))}return 0===o.length&&(i.forEach((function(e){if(void 0===s[e]){s[e]=null;var t=document.createElement("link");l.nc&&t.setAttribute("nonce",l.nc),t.rel="prefetch",t.as="script",t.href=c(e),document.head.appendChild(t)}})),i.length=0),e}var n={},a={app:0},s={app:0},o=[],i=[];function c(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-079c3e50":"1cd7835d","chunk-27bca181":"82f00272","chunk-2d21e30b":"1be6d085","chunk-34f662d2":"aa204fa2","chunk-74a039a3":"53c1490a"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-079c3e50":1,"chunk-27bca181":1,"chunk-34f662d2":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-079c3e50":"694e7a09","chunk-27bca181":"cf2ef65d","chunk-2d21e30b":"31d6cfe0","chunk-34f662d2":"c4436377","chunk-74a039a3":"31d6cfe0"}[e]+".css",s=l.p+n,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=o[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===s))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===n||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[e],m.parentNode.removeChild(m),r(o)},m.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=o);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=c(e);var d=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(m);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}s[e]=void 0}};var m=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/stock-tracker-spa/stock-tracker-spa/dist/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var f=d,p=function(){return o.push([0,"chunk-vendors"]),r()}();t([[],{},0,["chunk-34f662d2","chunk-27bca181","chunk-079c3e50"]])})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},"1a5d":function(e,t,r){var n={"./History.vue":["e4bb"],"./Home.vue":["bb51"],"./Index.vue":["d504","chunk-2d21e30b"],"./MyStocks.vue":["91cf"],"./Register.vue":["73cf8","chunk-74a039a3"],"./Today.vue":["df35"]};function a(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r(a)}))}a.keys=function(){return Object.keys(n)},a.id="1a5d",e.exports=a},"349f":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",staticClass:"rounded bccolor",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.error?r("v-card-text",{staticClass:"pink--text"},[e._v(e._s(e.authStatus))]):e._e(),e.info?r("v-card-text",{staticClass:"cyan--text"},[e._v(e._s(e.authStatus))]):e._e(),e.resendConfirmation?r("v-btn",{staticClass:"mr-4",attrs:{color:"#00bcd4"},on:{click:e.resendToken}},[e._v("Re-send token")]):e._e(),r("v-card",{staticClass:"elevation-10 mb-2 pt-3 bccolor"},[r("br"),r("v-row",{staticClass:"d-flex justify-center"},[r("v-col",{attrs:{cols:"8",sm:"7",md:"7",lg:"7","align-content":"center"}},[r("p",{staticClass:"text-center text-h5"},[e._v(" Sign up ")]),r("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{type:e.show?"text":"password","append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:e.passwordRules,counter:"",label:"Password",required:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{rules:e.confpasswordRules,label:"Confirm password",required:"",counter:"",type:e.show?"text":"password","append-icon":e.show?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.confpassword,callback:function(t){e.confpassword=t},expression:"confpassword"}}),r("v-checkbox",{attrs:{rules:[function(e){return!!e||"You must agree to continue!"}],label:"Do you agree?",required:""},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1)],1),r("v-row",{staticClass:"d-flex justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"#00bcd4",type:"submit"}},[e._v(" Sumbit ")]),r("v-btn",{attrs:{color:"#00bcd4"},on:{click:e.reset}},[e._v(" Clear ")])],1),r("br"),r("br")],1)],1)},a=[],s=(r("96cf"),r("1da1")),o=r("5530"),i=r("2f62"),c={name:"RegisterForm",data:function(){return{valid:!0,show:!1,error:!1,info:!1,resendConfirmation:!1,username:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password must be at least 8 characters"}],confpassword:"",checkbox:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(i["e"])({authStatus:function(e){return e.auth.authStatus}})),{},{confpasswordRules:function(){return[this.confpassword==this.password&&""!=this.confpassword||"Password must match"]},regForm:function(){var e=new FormData;return e.append("username",this.username),e.append("email",this.email),e.append("password",this.password),e}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["d"])(["setStatus"])),Object(i["b"])(["login","register","getConfToken"])),{},{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.setStatus("")},resetValidation:function(){this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("VALIDATE",e.validate),e.validate(),t.prev=2,t.next=5,e.register(e.regForm);case 5:t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](2),console.error("Sign Up",t.t0),e.error=!0,403===t.t0.response.status&&(e.resendConfirmation=!0);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})))()},resendToken:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.resendConfirmation=!e.resendConfirmation,console.log("EMAIL",e.email),t.next=5,e.getConfToken(JSON.stringify({email:e.email}));case 5:r=t.sent,e.error=!1,e.info=!0,e.setStatus(r.data),e.$refs.form.reset(),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error("Resend Token",t.t0),e.error=!0;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}})},l=c,u=(r("dd0f"),r("2877")),d=r("6544"),m=r.n(d),f=r("8336"),p=r("b0af"),h=r("99d9"),v=r("ac7c"),b=r("62ad"),g=r("4bd4"),k=r("0fd9"),x=r("8654"),w=Object(u["a"])(l,n,a,!1,null,"212b0a3c",null);t["a"]=w.exports;m()(w,{VBtn:f["a"],VCard:p["a"],VCardText:h["b"],VCheckbox:v["a"],VCol:b["a"],VForm:g["a"],VRow:k["a"],VTextField:x["a"]})},"37ee":function(e,t,r){},3877:function(e,t,r){"use strict";r("febb")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app"}},[r("Nav"),r("v-main",[r("router-view")],1)],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{"overlay-color":"#00bcd4",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",[n("v-list-item",[n("v-img",{attrs:{src:r("b4fa"),width:"50%"}})],1),n("v-divider",{attrs:{dark:""}}),e.isLoggedIn?n("div",[n("v-list-group",{attrs:{value:!0,"no-action":"","prepend-icon":"mdi-chart-areaspline-variant"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v("Dashboard")])],1)]},proxy:!0}],null,!1,1870259532)},e._l(e.options,(function(t,r){return n("v-list-item",{key:r,attrs:{to:t.link,link:""}},[n("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)})),1),n("v-divider",{attrs:{dark:""}}),n("v-list-group",{attrs:{"no-action":"","prepend-icon":"mdi-cog"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v("Settings")])],1)]},proxy:!0}],null,!1,991101773)},[e._l(e.config,(function(t,r){return n("v-list-item",{key:r,attrs:{to:t.link,link:""}},[n("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)})),n("v-list-group",{attrs:{value:!0,"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v("My account")])],1)]},proxy:!0}],null,!1,2549835549)},[e._l(e.account,(function(t,r){return n("v-list-item",{key:r,attrs:{to:t.link,link:""}},[n("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)})),n("v-list-item",{on:{click:e.logout}},[n("v-list-item-title",{domProps:{textContent:e._s("Log out")}}),n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s("mdi-logout")}})],1)],1)],2)],2)],1):n("div",[n("v-list-item",{attrs:{color:"#00bcd4",to:{name:"auth-login"},link:""}},[n("v-list-item-title",{staticClass:"title"},[e._v("Sign in")])],1),n("v-list-item",{attrs:{color:"#00bcd4",to:{name:"auth-register"},link:""}},[n("v-list-item-title",{staticClass:"title"},[e._v("Sign up")])],1)],1)],1)],1),e.drawer?e._e():n("v-app-bar",{attrs:{rounded:"",dark:"",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),n("v-spacer"),e.drawer?e._e():n("v-toolbar-title",[e._v("StockTracker")])],1)],1)},i=[],c=r("5530"),l=r("2f62"),u={data:function(){return{drawer:null,options:[{title:"Live feed",icon:"mdi-cast",link:"live"},{title:"Historical view",icon:"mdi-history",link:"history"}],config:[{title:"My Stocks",icon:"mdi-trending-up",link:"mystocks"}],account:[{title:"Password",icon:"mdi-lock-reset",link:"changepsswd"}]}},computed:Object(c["a"])({},Object(l["c"])({isLoggedIn:"isLoggedIn"})),methods:Object(c["a"])({},Object(l["b"])(["logout"]))},d=u,m=r("2877"),f=r("6544"),p=r.n(f),h=r("40dc"),v=r("5bc1"),b=r("ce7e"),g=r("132d"),k=r("adda"),x=r("8860"),w=r("56b0"),y=r("da13"),S=r("5d23"),_=r("34c3"),C=r("f774"),O=r("2fa4"),j=r("2a7f"),T=Object(m["a"])(d,o,i,!1,null,null,null),R=T.exports;p()(T,{VAppBar:h["a"],VAppBarNavIcon:v["a"],VDivider:b["a"],VIcon:g["a"],VImg:k["a"],VList:x["a"],VListGroup:w["a"],VListItem:y["a"],VListItemContent:S["a"],VListItemIcon:_["a"],VListItemTitle:S["b"],VNavigationDrawer:C["a"],VSpacer:O["a"],VToolbarTitle:j["a"]});var I={components:{Nav:R}},V=I,L=(r("5c0b"),r("7496")),D=r("f6c4"),E=Object(m["a"])(V,a,s,!1,null,null,null),$=E.exports;p()(E,{VApp:L["a"],VMain:D["a"]});var A=r("0e44"),P=(r("c975"),r("d81d"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("53ca")),M=(r("96cf"),r("1da1")),q=r("2909"),F=(r("99af"),r("bc3a")),N=r.n(F),U=r("db49"),B=N.a.create({baseURL:"".concat(U["a"].dev.apiURL,"/"),timeout:2e3}),z=B;B.interceptors.request.use((function(e){return console.log("".concat(e.method.toUpperCase()," Request made to ").concat(e.url," with data:"),e.data),e.headers["Authorization"]="Bearer ".concat(localStorage.getItem("access_token")),e}),(function(e){return console.log(e),e})),B.interceptors.response.use((function(e){var t=e.status,r=e.data,n=e.config;return console.log("Response from ".concat(n.url,":"),Object(c["a"])({code:t},r)),e}),function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.response){e.next=22;break}r=t.response.status,e.t0=r,e.next=401===e.t0?5:19;break;case 5:return e.prev=5,e.next=8,Fe.dispatch("refreshToken");case 8:return n=t.config,e.next=11,B({method:n.method,url:n.url,data:n.data});case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t1=e["catch"](5),console.log(e.t1),401===e.t1.response.status?Fe.dispatch("logout"):Fe.commit("setStatus",t.response);case 18:return e.abrupt("break",20);case 19:return e.abrupt("return",Promise.reject(t));case 20:e.next=27;break;case 22:if(!t.request){e.next=26;break}return e.abrupt("return",Promise.reject(t));case 26:return e.abrupt("return",Promise.reject(t));case 27:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}());var Y={dialog:!1,dialogDelete:!1,myStocks:[],headers:[{text:"Date added",value:"timestamp",align:"start",width:"15%"},{text:"Name",value:"name",align:"start"},{text:"Symbol (yahoo)",value:"ticker"},{text:"Price per share (p£)",value:"share_price"},{text:"Number of shares",value:"share_count"},{text:"Lower threshold (%)",value:"lower_threshold"},{text:"Upper threshold (%)",value:"upper_threshold"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{id:null,timestamp:"",name:"",ticker:"",share_price:0,share_count:0,lower_threshold:0,upper_threshold:0},defaultItem:{id:null,timestamp:"",name:"",ticker:"",share_price:0,share_count:0,lower_threshold:0,upper_threshold:0}},H={formTitle:function(e){return-1===e.editedIndex?"New Stock":"Edit Stock"},EmptyStocks:function(e){return 0==e.myStocks.length},symbols:function(e){return console.log("Inside symbol getter:",e.myStocks),Object(q["a"])(new Set(e.myStocks.map((function(e){return e.ticker})))).sort()}},W={getMyStocks:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,z.get("/tickers");case 4:return n=t.sent,r("setMyStocks",n.data),t.abrupt("return","Success");case 9:throw t.prev=9,t.t0=t["catch"](1),console.log(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},putMyStocks:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.prev=1,t.next=4,z.put("ticker",r.editedItem);case 4:return t.abrupt("return","Success");case 7:throw t.prev=7,t.t0=t["catch"](1),console.error("Unable to retrieve tickers data"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},postMyStocks:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.prev=1,t.next=4,z.post("/ticker",r.editedItem,{headers:{"Content-Type":"application/json"}});case 4:return t.abrupt("return","Success");case 7:throw t.prev=7,t.t0=t["catch"](1),console.error("Unable to retrieve tickers data"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},completeMyStockUpdate:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.state,n=e.dispatch,a=null,t.prev=2,!(r.editedIndex>-1)){t.next=9;break}return t.next=6,n("putMyStocks");case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,n("postMyStocks");case 11:a=t.sent;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](2),console.error("Failure!"),console.error(t.t0);case 18:null!=a&&n("getMyStocks");case 19:case"end":return t.stop()}}),t,null,[[2,14]])})))()},deleteMyStocks:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,t.prev=1,t.next=4,z.delete("/ticker?id=".concat(r.editedItem.id));case 4:return t.abrupt("return","Success");case 7:throw t.prev=7,t.t0=t["catch"](1),console.error("Removal unsuccessful!"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},editItem:function(e,t){var r=e.commit;r("setEditedIndex",t),r("setEditedItem",t),r("setDialog",!0)},deleteItem:function(e,t){var r=e.commit;r("setEditedIndex",t),r("setEditedItem",t),r("setDialogDelete",!0)},onUpdate:function(e){var t=e.commit,r=e.state;t("setEditedItem",r.defaultItem),t("setEditedIndex",-1)},update:function(e){var t=e.commit,r=e.state;t("updateMyStocks",r)},deleteItemConfirm1:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.prev=1,t.next=4,r("deleteMyStocks");case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:"Success"==n&&(console.log("ticker deleted response",n),r("getMyStocks"));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},J={setEditedIndex:function(e,t){"object"===Object(P["a"])(t)?e.editedIndex=e.myStocks.indexOf(t):"number"===typeof t&&(e.editedIndex=t)},setEditedItem:function(e,t){e.editedItem=Object.assign({},t)},setDialog:function(e,t){e.dialog=t},setDialogDelete:function(e,t){e.dialogDelete=t},setMyStocks:function(e,t){e.myStocks=t}},G={state:Y,getters:H,actions:W,mutations:J},K=(r("7db0"),r("4160"),r("159b"),{tickers:[],allTimeSeries:[]}),Z={headers:function(){var e=[{text:"Last Update",value:"date",width:"10%"},{text:"Company",value:"name"},{text:"Symbol (yahoo)",value:"ticker"},{text:"Stock Nr",value:"stock_nr",widh:"1%"},{text:"Live (p£)",value:"live"},{text:"Open (p£)",value:"open"},{text:"Low (p£)",value:"low"},{text:"High (p£)",value:"high"},{text:"Lower lim (p£)",value:"lower_threshold"},{text:"Upper lim (p£)",value:"upper_threshold"},{text:"Gain (%)",value:"margin"},{text:"Share count",value:"share_count",widh:"3%"},{text:"Total earnings (£)",value:"total_earnings"},{text:"Reset?",value:"reset_threshold"}];return e.map((function(e){return e["align"]="center",e}))},drawTickers:function(e){console.log("drawTickers!");var t=e.tickers.map((function(e){return Object.assign({id:e.id,symbol:e.ticker,stock_nr:e.stock_nr,bought:e.share_price,upperLimit:e.upper_threshold,lowerLimit:e.lower_threshold})}));return console.log("Tickers",t),t},allData:function(e,t){var r=t.drawTickers.map((function(t){var r=e.allTimeSeries.find((function(e){return e.symbol===t.symbol}));return Object.assign(t,r)}));console.log("All_before",r);var n=JSON.parse(JSON.stringify(r));return n.map((function(e){return 1!==e.stock_nr&&(e.symbol="".concat(e.symbol," (").concat(e.stock_nr,")")),e})),n.sort((function(e,t){return e.symbol>t.symbol?1:-1})),n}},Q={getTickers:function(e){var t=e.commit;return z.get("/summary").then((function(e){return t("setTickers",e.data),console.log("GETTickers: data",e),"Success"})).catch((function(e){throw console.error(e),e}))},getAllTimeSeries:function(e){var t=e.commit,r=e.state,n=e.rootGetters,a=[],s={},o=n.symbols.map((function(e){return z.get("/charts/daily?ticker="+e)}));return Promise.all(o).then((function(e){return e.forEach((function(e){console.log(e);var t=Object.assign({symbol:e.data.symbol,time:e.data.Date,data:e.data.Close});console.log("ts",t),a.push(t),r.tickers.forEach((function(t){t.ticker==e.data.symbol&&(console.log("last update",e.data.last_update),t.date=e.data.last_update)}))})),console.log("values",s),t("setAllTimeSeries",a),"Success"}))}},X={setTickers:function(e,t){e.tickers=t},updateTickers:function(e,t,r){console.log("tickers",e.tickers),e.tickers.forEach((function(e){e[t]=r[e.ticker]}))},setAllTimeSeries:function(e,t){e.allTimeSeries=t}},ee={state:K,getters:Z,actions:Q,mutations:X},te=(r("45fc"),r("8c4f")),re=r("df35"),ne=r("e4bb"),ae=r("91cf"),se=r("bb51"),oe=r("349f"),ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",staticClass:"rounded",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.error?r("v-card-text",{staticClass:"pink--text"},[e._v(e._s(e.authStatus))]):e._e(),r("v-card",{staticClass:"bccolor elevation-10 mb-2 pt-5"},[r("br"),r("v-row",{staticClass:"d-flex justify-center"},[r("v-col",{attrs:{cols:"10",sm:"8",md:"6",lg:"8",xl:"8","align-content":"center"}},[r("p",{staticClass:"text-center text-h5"},[e._v(" Sign in ")]),r("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",type:e.show?"text":"password","append-icon":e.show?"mdi-eye":"mdi-eye-off",required:"",counter:""},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-row",{staticClass:"d-flex justify-center"},[r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"#00bcd4",type:"submit"}},[e._v(" Sumbit ")]),r("v-btn",{attrs:{color:"#00bcd4"},on:{click:e.reset}},[e._v(" Clear ")])],1),r("br"),r("br")],1)],1)},ce=[],le={name:"LoginForm",data:function(){return{valid:!0,show:!1,username:"demo",error:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],password:"11111111",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password must be at least 8 characters"}]}},computed:Object(c["a"])({},Object(l["e"])({authStatus:function(e){return e.auth.authStatus}})),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["setStatus"])),Object(l["b"])(["login","register"])),{},{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.setStatus("")},resetValidation:function(){this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.validate(),r=new FormData,r.append("username",e.username),r.append("password",e.password),t.prev=4,t.next=7,e.login(r);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](4),console.error("Login",t.t0),e.error=!0;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})))()}})},ue=le,de=(r("c3d2"),r("8336")),me=r("b0af"),fe=r("99d9"),pe=r("62ad"),he=r("4bd4"),ve=r("0fd9"),be=r("8654"),ge=Object(m["a"])(ue,ie,ce,!1,null,"0caa8d79",null),ke=ge.exports;function xe(e){return function(){return r("1a5d")("./".concat(e,".vue"))}}p()(ge,{VBtn:de["a"],VCard:me["a"],VCardText:fe["b"],VCol:pe["a"],VForm:he["a"],VRow:ve["a"],VTextField:be["a"]}),n["a"].use(te["a"]);var we=[{path:"/",component:se["default"],meta:{authRequired:!1},children:[{path:"",name:"home-landing",redirect:{name:"auth-login"}},{path:"login",name:"auth-login",component:ke,meta:{authRequired:!1}},{path:"register",name:"auth-register",component:oe["a"],meta:{authRequired:!1}}]},{path:"/user",component:xe("Index"),meta:{authRequired:!0},children:[{path:"",name:"user-landing",meta:{authRequired:!0},redirect:{name:"live"}},{path:"live",name:"live",component:re["default"],meta:{authRequired:!0}},{path:"history",name:"past",component:ne["default"],meta:{authRequired:!0}},{path:"mystocks",name:"stocks",component:ae["default"],meta:{authRequired:!0}},{path:"changepsswd",name:"psswd",meta:{authRequired:!0}}]}],ye=new te["a"]({mode:"history",base:"/stock-tracker-spa/stock-tracker-spa/dist/",routes:we});ye.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.authRequired}))?Fe.getters.isLoggedIn?r():r({path:"/login"}):r()}));var Se=ye,_e=r("1232"),Ce={authStatus:"",accessToken:"",refreshToken:""},Oe={setStatus:function(e,t){e.authStatus=t},updateAccessToken:function(e,t){z.defaults.headers.common["Authorization"]="Bearer ".concat(t),localStorage.setItem("access_token",t),e.accessToken=t},updateRefreshToken:function(e,t){localStorage.setItem("refresh_token",t),e.refreshToken=t}},je={isLoggedIn:function(e){return"success"===e.authStatus}},Te={register:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,console.log("details",t),r.next=5,N.a.post(U["a"].dev.apiURL+"/register",t,{headers:{"Content-Type":"multipart/form-data"}});case 5:Se.push("/login"),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](1),n("setStatus",r.t0.response.status+" "+r.t0.response.statusText+": "+r.t0.response.data),r.t0;case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()},login:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,N.a.post(U["a"].dev.apiURL+"/auth",t);case 4:return a=r.sent,r.next=7,a.data;case 7:s=r.sent,n("setStatus","success"),n("updateAccessToken",s.access_token),n("updateRefreshToken",s.refresh_token),Se.push("/user"),r.next=18;break;case 14:throw r.prev=14,r.t0=r["catch"](1),n("setStatus",r.t0.response.status+" "+r.t0.response.statusText+": "+r.t0.response.data),r.t0;case 18:case"end":return r.stop()}}),r,null,[[1,14]])})))()},getConfToken:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.abrupt("return",N.a.post(U["a"].dev.apiURL+"/unconfirmed",t,{headers:{"Content-Type":"application/json"}}));case 5:throw r.prev=5,r.t0=r["catch"](1),n("setStatus",r.t0.response.status+" "+r.t0.response.statusText+": "+r.t0.response.data),r.t0;case 9:case"end":return r.stop()}}),r,null,[[1,5]])})))()},checkAccessTokenExpiry:function(e){var t=e.state,r=e.getters,n=e.dispatch;if(r.isLoggedIn){console.log("access!"),console.log("state.accessToken",t.accessToken);var a=Object(_e["a"])(t.accessToken),s=Date.now()/1e3,o=a.exp-s<30;if(o){console.log("refresh!");var i=n("refreshToken");i.then((function(e){n("resetAccessToken",e.data.access_token),console.log("Response",e)}))}}},refreshToken:function(e){return Object(M["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,a=localStorage.getItem("refresh_token"),t.prev=2,console.log("Completed refreshToken"),t.next=6,N.a.get(U["a"].dev.apiURL+"/token/refresh",{headers:{Authorization:"Bearer ".concat(a)}});case 6:s=t.sent,r("updateAccessToken",s.data.access_token),r("setStatus","success"),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),401===t.t0.response.status?n("logout"):(r("setStatus",t.t0.response),console.error(t.t0));case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()},resetAccessToken:function(e,t){var r=e.commit;r("setStatus","success"),r("updateAccessToken",t)},logout:function(e){var t=e.commit;delete z.defaults.headers.common["Authorization"],t("setStatus",""),t("updateAccessToken",""),t("updateRefreshToken",""),location.reload(),Se.push({name:"auth-login"})},isLoggedIn:function(e){var t=e.getters,r=e.dispatch,n=localStorage.getItem("refresh_token");if(n){if(!t.isLoggedIn)return!1;r("checkAccessTokenExpiry").then((function(){return t.isLoggedIn}))}}},Re={state:Ce,getters:je,actions:Te,mutations:Oe},Ie=(r("b64b"),function(e,t){e.x=t.data.Date,e.close=t.data.Close,e.open=t.data.Open,e.low=t.data.Low,e.high=t.data.High}),Ve=function(e,t){return N.a.get("".concat(e,"?ticker=").concat(t))},Le=function(e){return Ve("".concat(U["a"].dev.apiURL,"/charts/week"),e)},De=function(e){return Ve("".concat(U["a"].dev.apiURL,"/charts/alltime"),e)},Ee=function(e,t){return new Promise((function(r,n){var a=N.a.get("".concat(U["a"].dev.apiURL,"/charts/alltime?ticker=").concat(e)).then((function(e){return t.time=e.data.Date,t.data=e.data.Close,"Success"})).catch((function(e){console.error(e)}));a.then((function(e){return e?r("Success"):n("Error")}))}))},$e={lastWeek:{x:[],open:[],close:[],high:[],low:[]},lastYear:{x:[],open:[],close:[],high:[],low:[]},ftse:{time:[],data:[]},ftmc:{time:[],data:[]},ftlc:{time:[],data:[]},ftai:{time:[],data:[]},ftsSymbols:["^FTSE","^FTMC","^FTLC","^FTAI"]},Ae={DataLY:function(e){return e.lastYear.close},isLastWeekEmpty:function(e){return 0===Object.keys(e.lastWeek.x).length},isLastYearEmpty:function(e){return 0===Object.keys(e.lastYear.x).length},isFTEmpty:function(e){return 0===Object.keys(e.ftai.time).length}},Pe={setLastWeek:function(e,t){Ie(e.lastWeek,t)},setLastYear:function(e,t){Ie(e.lastYear,t)}},Me={lastWeeksTrace:function(e,t){var r=e.commit;return Le(t).then((function(e){r("setLastWeek",e)})).catch((function(e){console.log(e)}))},lastYearsTrace:function(e,t){var r=e.commit;return De(t).then((function(e){r("setLastYear",e)}))},lastYearsFTS:function(e){var t=e.state,r=[Ee("^FTSE",t.ftse),Ee("^FTMC",t.ftmc),Ee("^FTLC",t.ftlc),Ee("^FTAI",t.ftai)];return Promise.all(r).then((function(e){console.log("responses",e)})).catch((function(e){return console.log(e.error)}))}},qe={state:$e,getters:Ae,mutations:Pe,actions:Me};n["a"].use(l["a"]);var Fe=new l["a"].Store({modules:{stocks:G,today:ee,auth:Re,history:qe},plugins:[Object(A["a"])({key:"vuex",reducer:function(e){return""===e.auth.authStatus?{}:e}})]}),Ne=r("f309");n["a"].use(Ne["a"]);var Ue=new Ne["a"]({theme:{dark:!0,themes:{dark:{background:"#1E1E1E",primary:"#00bcd4",secondary:"#9C27B0"}},options:{customProperties:!0}}});n["a"].config.productionTip=!1,new n["a"]({store:Fe,vuetify:Ue,router:Se,render:function(e){return e($)}}).$mount("#app")},"57be":function(e,t,r){},"5c0b":function(e,t,r){"use strict";r("9c0c")},"8f56":function(e,t,r){},"91cf":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("stock-list")],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[e.dataLoaded?r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"col-10",attrs:{align:"center"}},[r("v-col",{attrs:{align:"end"}},[r("v-dialog",{attrs:{value:e.dialog,"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){return e.setDialog(!e.dialog)}}},"v-btn",a,!1),n),[e._v(" New Stock ")])]}}],null,!1,388835822)},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.save(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticClass:"elevation-24"},[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Date added",value:""==e.editedItem.timestamp?e.editedItem.timestamp=e.getDate:e.editedItem.timestamp,readonly:""}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{"validate-on-blur":"",label:"Name",rules:e.nameRules},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Symbol",rules:e.symbolRules,"validate-on-blur":""},model:{value:e.editedItem.ticker,callback:function(t){e.$set(e.editedItem,"ticker",t)},expression:"editedItem.ticker"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Price per share (p£)",rules:e.priceRules,"validate-on-blur":""},model:{value:e.editedItem.share_price,callback:function(t){e.$set(e.editedItem,"share_price",t)},expression:"editedItem.share_price"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Number of shares",rules:e.countRules,"validate-on-blur":""},model:{value:e.editedItem.share_count,callback:function(t){e.$set(e.editedItem,"share_count",t)},expression:"editedItem.share_count"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Lower threshold",rules:e.limitRules,"validate-on-blur":""},model:{value:e.editedItem.lower_threshold,callback:function(t){e.$set(e.editedItem,"lower_threshold",t)},expression:"editedItem.lower_threshold"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Upper threshold",rules:e.limitRules,"validate-on-blur":""},model:{value:e.editedItem.upper_threshold,callback:function(t){e.$set(e.editedItem,"upper_threshold",t)},expression:"editedItem.upper_threshold"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),r("v-btn",{attrs:{disabled:!e.valid,color:"blue darken-1",text:"",type:"submit"}},[e._v(" Save ")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),r("v-spacer")],1)],1)],1)],1),r("v-col",[r("v-data-table",{staticClass:"elevation-15",attrs:{headers:e.headers,items:e.tickers,search:e.search,"sort-by":"name","font-size":"12"},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-card-title",[e._v(" My Stocks "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-spacer")],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" mdi-pencil ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.getMyStocks}},[e._v(" Reset ")])]},proxy:!0}],null,!1,39735817)})],1)],1)],1):e._e()],1)},o=[],i=(r("b0c0"),r("ac1f"),r("1276"),r("bf19"),r("96cf"),r("1da1")),c=r("5530"),l=r("2f62"),u={name:"StockList",data:function(){return{search:"",dataLoaded:!1,valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=10||"Name must be less than 10 characters"}],symbolRules:[function(e){return!!e||"Symbol is required"},function(e){return/^[A-Z]+/.test(e)||"Symbol must be valid"}],priceRules:[function(e){return!!e||"Price is required"},function(e){return/^\d{1,10}(\.\d{0,2}){0,1}$/.test(e)||"Price must be an int or a float number"}],limitRules:[function(e){return!!e||"Threshold is required"},function(e){return/^\d+$/.test(e)||"Threshold must be a number"}],countRules:[function(e){return!!e||"Number of shares is required"},function(e){return e>0||"Minimum one share is required"},function(e){return/^\d+$/.test(e)||"Integer expected"}]}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["e"])({tickers:function(e){return e.stocks.myStocks},headers:function(e){return e.stocks.headers},dialog:function(e){return e.stocks.dialog},dialogDelete:function(e){return e.stocks.dialogDelete},editedItem:function(e){return e.stocks.editedItem},defaultItem:function(e){return e.stocks.defaultItem}})),Object(l["c"])(["formTitle","allData"])),{},{getDate:function(){return(new Date).toJSON().split("T")[0]},nameErrors:function(){var e=[];return this.$v.editedItem.name.$dirty?(console.log("HERE"),!this.$v.editedItem.name.required&&e.push("Name is required"),e):e},nameSuccess:function(){var e=[];return this.$v.editedItem.name.$dirty?(this.$v.editedItem.name.required&&e.push("Nice name!"),e):e}}),methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["setDialog","setDialogDelete"])),Object(l["b"])(["getMyStocks","editItem","deleteItem","deleteItemConfirm1","onUpdate","completeMyStockUpdate"])),{},{deleteItemConfirm:function(){this.deleteItemConfirm1(),this.closeDelete()},close:function(){var e=this;this.setDialog(!1),this.$nextTick((function(){e.onUpdate()}))},closeDelete:function(){var e=this;this.setDialogDelete(!1),this.$nextTick((function(){e.onUpdate()}))},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.validate(),t.next=3,e.completeMyStockUpdate();case 3:e.close();case 4:case"end":return t.stop()}}),t)})))()},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}),watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Mounted hook"),0!=e.tickers.length){t.next=7;break}return t.next=4,e.getMyStocks();case 4:e.dataLoaded=!0,t.next=8;break;case 7:e.dataLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()}},d=u,m=r("2877"),f=r("6544"),p=r.n(f),h=r("8336"),v=r("b0af"),b=r("99d9"),g=r("62ad"),k=r("a523"),x=r("8fea"),w=r("169a"),y=r("4bd4"),S=r("132d"),_=r("0fd9"),C=r("2fa4"),O=r("8654"),j=Object(m["a"])(d,s,o,!1,null,null,null),T=j.exports;p()(j,{VBtn:h["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:g["a"],VContainer:k["a"],VDataTable:x["a"],VDialog:w["a"],VForm:y["a"],VIcon:S["a"],VRow:_["a"],VSpacer:C["a"],VTextField:O["a"]});var R={components:{StockList:T}},I=R,V=Object(m["a"])(I,n,a,!1,null,null,null);t["default"]=V.exports;p()(V,{VContainer:k["a"],VRow:_["a"]})},"922a":function(e,t,r){"use strict";r("8f56")},"9c0c":function(e,t,r){},b4fa:function(e,t,r){e.exports=r.p+"img/StockTracker-logo.f201f35d.png"},bb51:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"gradient",attrs:{justify:"center",align:"start"}},[n("v-col",{attrs:{cols:"8",sm:"7",md:"5",lg:"4",xl:"4",align:"center"}},[n("v-img",{attrs:{src:r("cf05"),width:"47%",alt:""}}),n("router-view")],1)],1)},a=[],s={name:"Register",data:function(){return{valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password must be at least 8 characters"}],checkbox:!1,form:{username:"",email:"",password:""}}},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},o=s,i=(r("3877"),r("2877")),c=r("6544"),l=r.n(c),u=r("62ad"),d=r("adda"),m=r("0fd9"),f=Object(i["a"])(o,n,a,!1,null,"7cee2657",null);t["default"]=f.exports;l()(f,{VCol:u["a"],VImg:d["a"],VRow:m["a"]})},c3d2:function(e,t,r){"use strict";r("f682")},c918:function(e,t,r){"use strict";r("db0a")},cf05:function(e,t,r){e.exports=r.p+"img/logo.c154b52a.png"},db0a:function(e,t,r){},db49:function(e,t,r){"use strict";var n={dev:{apiURL:""},plt:{layout:{plot_bgcolor:"#121212",paper_bgcolor:"#121212",font:{color:"#BDBDBD"},xaxis:{gridcolor:"#424242"},yaxis:{gridcolor:"#424242"}},trace:{color:{primary:"#00bcd4",secondary:"#9c27b0",secondary_l1:"#aaffff",secondary_l2:"#d662e8",secondary_d1:"#ff9aff",secondary_d2:"#006d83",red:"#D81B60",green:"#4DD0E1"}},rangeslider:{buttons:{bgcolor:"#00bcd4",activecolor:"#8affff"}}}};t["a"]=n},dd0f:function(e,t,r){"use strict";r("37ee")},df35:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("chart-nav")],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.addStocks?r("v-btn",{staticClass:"mt-10",attrs:{color:"#00bcd4"},on:{click:function(t){return e.$router.push("/user/mystocks")}}},[e._v(" Add your stocks ")]):r("v-card",{staticClass:"size",attrs:{loading:!e.dataLoaded}},[r("v-tabs",{attrs:{grow:"",primary:"true","active-class":"activeOverlay"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e._l(e.items,(function(t){return r("v-tab",{key:t.id},[e._v(" "+e._s(t.symbol)+" ")])})),e.dataLoaded?r("v-tabs-items",{attrs:{dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-container",[r("v-row",{staticClass:"d-flex"},[r("v-col",e._l(e.items,(function(e){return r("v-tab-item",{key:e.id,staticClass:"colors"},[r("daily-chart",{attrs:{item:e}})],1)})),1)],1)],1)],1):e._e()],2),r("v-row",{staticClass:"d-flex align-stretch",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"11",xl:"11"}},[e.dataLoaded?r("summary-table",{attrs:{selectedRow:e.selectRow},on:{selectedId:e.onSelected}}):e._e()],1)],1)],1)},o=[],i=(r("4160"),r("159b"),r("96cf"),r("1da1")),c=r("5530"),l=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-responsive",[e.item?r("v-card",e._b({attrs:{id:e.item.symbol,dark:""}},"v-card",e.$attrs,!1)):e._e()],1)},d=[],m=(r("cb29"),r("b0c0"),r("030a")),f=r.n(m),p={name:"Chart",props:{item:Object},data:function(){return{timeSeries:this.item}},methods:{plotChart:function(){console.log("timeSeries",this.timeSeries.time);var e={x:this.timeSeries.time,y:this.timeSeries.data,mode:"lines+markers",name:"live",yaxis:"y",marker:{symbol:"diamond",line:{width:.5,colorscale:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],color:.5},size:5},line:{color:"#4DD0E1",width:1}},t={x:this.timeSeries.time,y:Array(this.timeSeries.time.length).fill(this.timeSeries.lowerLimit),visible:"legendonly",mode:"lines",line:{dash:"dashdot",color:"#FF4081",width:1},name:"lower limit"},r={x:this.timeSeries.time,y:Array(this.timeSeries.time.length).fill(this.timeSeries.bought),mode:"lines",name:"bought",visible:"legendonly",line:{color:"#18FFFF",dash:"dashdot",width:1}},n=Object(c["a"])({},t);n.y=Array(this.timeSeries.time.length).fill(this.timeSeries.upperLimit),n.name="upper limit";var a=[e,r,n,t],s={title:this.timeSeries.symbol,yatimeis:{title:"Value [£p]"},plot_bgcolor:"#121212",paper_bgcolor:"#121212",font:{color:"#BDBDBD"},xaxis:{gridcolor:"#424242"},yaxis:{gridcolor:"#424242"}},o={responsive:!0};f.a.newPlot(this.timeSeries.symbol,a,s,o)}},mounted:function(){console.log("Created"),this.item&&this.plotChart()},watch:{timeSeries:function(){this.plotChart()}}},h=p,v=r("2877"),b=r("6544"),g=r.n(b),k=r("b0af"),x=r("6b53"),w=Object(v["a"])(h,u,d,!1,null,null,null),y=w.exports;g()(w,{VCard:k["a"],VResponsive:x["a"]});var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",[r("v-card-title",[e._v(" Live Feed "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-spacer"),r("v-data-table",{staticClass:"elevation-5 row-pointer",attrs:{search:e.search,headers:e.headers,items:e.items,"item-key":"id","single-select":"","items-per-page":5,align:"center",pointer:""},on:{"click:row":e.rowClick},scopedSlots:e._u([{key:"headers",fn:function(e){e.$props;return[r("v-spacer")]}},{key:"item.live",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.liveColor(n),dark:"",label:""}},[e._v(" "+e._s(n.live)+" ")])]}},{key:"item.margin",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.marginColor(n),dark:"",label:""}},[e._v(" "+e._s(n.margin)+" ")])]}},{key:"item.reset_threshold",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.resetThColor(n),dark:"",label:""}},[e._v(" "+e._s(n.reset_threshold)+" ")])]}}])})],1)],1)},_=[],C={name:"SummaryTable",props:["selectedRow"],data:function(){return{search:"",selection:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["getMyStocks"])),{},{liveColor:function(e){return e.live>e.open?"#00BCD4":"#D81B60"},marginColor:function(e){return e.margin>0?"#00BCD4":"#D81B60"},resetThColor:function(e){return 0==e.reset_threshold?"#00BCD4":"#D81B60"},rowClick:function(e,t){this.selection=!this.selection,t.isSelected=this.selection,t.select(this.selection),this.selection&&this.$emit("selectedId",e.id)},highlight:function(e){return e.row.index==this.selectedRow}}),computed:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["headers"])),Object(l["e"])({items:function(e){return e.today.tickers}})),mounted:function(){var e=this;this.getMyStocks().then((function(){return e.dataLoaded=!0}))}},O=C,j=(r("c918"),r("99d9")),T=r("cc20"),R=r("a523"),I=r("8fea"),V=r("2fa4"),L=r("8654"),D=Object(v["a"])(O,S,_,!1,null,null,null),E=D.exports;g()(D,{VCard:k["a"],VCardTitle:j["c"],VChip:T["a"],VContainer:R["a"],VDataTable:I["a"],VSpacer:V["a"],VTextField:L["a"]});var $={components:{DailyChart:y,SummaryTable:E},name:"ChartNav",data:function(){return{tab:null,dataLoaded:!1,selectRow:this.tab,addStocks:null}},computed:Object(c["a"])({},Object(l["c"])({symbols:"symbols",items:"allData",isLoggedIn:"isLoggedIn",EmptyStocks:"EmptyStocks"})),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["getMyStocks","getAllTimeSeries","getTickers"])),{},{initialize:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getTickers();case 3:if(r=t.sent,"Success"!=r){t.next=9;break}return t.next=7,e.getAllTimeSeries();case 7:n=t.sent,"Success"==n&&(e.dataLoaded=!0);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onSelected:function(e){var t=this;console.log("OnSelectedEvent:",e),this.items.forEach((function(r,n){e==r.id&&(t.tab=n)}))}}),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMyStocks();case 2:if(r=t.sent,"Success"!=r||e.EmptyStocks){t.next=9;break}return console.log("Live feed: Initialize"),t.next=7,e.initialize();case 7:t.next=10;break;case 9:"Success"==r&&e.EmptyStocks?e.addStocks=!0:console.log("Couldn't get stocks");case 10:case"end":return t.stop()}}),t)})))()}},A=$,P=(r("fee0"),r("8336")),M=r("62ad"),q=r("0fd9"),F=r("71a3"),N=r("c671"),U=r("fe57"),B=r("aac8"),z=Object(v["a"])(A,s,o,!1,null,null,null),Y=z.exports;g()(z,{VBtn:P["a"],VCard:k["a"],VCol:M["a"],VContainer:R["a"],VRow:q["a"],VTab:F["a"],VTabItem:N["a"],VTabs:U["a"],VTabsItems:B["a"]});var H={components:{ChartNav:Y}},W=H,J=Object(v["a"])(W,n,a,!1,null,null,null);t["default"]=J.exports},e4bb:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("history-charts")],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{loading:!e.dataLoaded}},[r("v-tabs",{attrs:{grow:"","active-class":"activeOverlay",primary:"true",color:"#00bcd4"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e._l(e.symbols,(function(t,n){return r("v-tab",{key:n},[e._v(" "+e._s(t)+" ")])})),r("v-tabs-items",{attrs:{dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-row",{staticClass:"d-flex"},[r("v-col",e._l(e.symbols,(function(e,t){return r("v-tab-item",{key:t,staticClass:"colors"},[r("v-row",{staticClass:"d-flex mx-auto"},[r("v-col",[r("weekly-chart",{attrs:{symbol:e}})],1),r("v-col",[r("yearly-chart",{attrs:{symbol:e}})],1)],1),r("v-row",{staticClass:"d-flex mx-auto"},[r("v-col",[r("FTChart",{attrs:{symbol:e}})],1)],1)],1)})),1)],1)],1)],2)],1)},o=[],i=(r("4160"),r("d3b7"),r("159b"),r("96cf"),r("1da1")),c=r("5530"),l=r("2f62"),u={components:{WeeklyChart:function(){return r.e("chunk-27bca181").then(r.bind(null,"eebc"))},YearlyChart:function(){return r.e("chunk-079c3e50").then(r.bind(null,"a50a"))},FTChart:function(){return r.e("chunk-34f662d2").then(r.bind(null,"0e73"))}},name:"HistoryChart",data:function(){return{tab:null,dataLoaded:!1,selectRow:this.tab}},computed:Object(c["a"])({},Object(l["c"])(["symbols","isLoggedIn"])),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["getMyStocks"])),{},{initialize:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.symbols.length){t.next=7;break}return t.next=3,e.getMyStocks();case 3:r=t.sent,"Success"==r&&(e.dataLoaded=!0),t.next=8;break;case 7:e.dataLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()},onSelected:function(e){var t=this;console.log("OnSelectedEvent:",e),this.symbols.forEach((function(r,n){e==r.id&&(t.tab=n)}))}}),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initialize();case 2:case"end":return t.stop()}}),t)})))()}},d=u,m=(r("922a"),r("2877")),f=r("6544"),p=r.n(f),h=r("b0af"),v=r("62ad"),b=r("0fd9"),g=r("71a3"),k=r("c671"),x=r("fe57"),w=r("aac8"),y=Object(m["a"])(d,s,o,!1,null,null,null),S=y.exports;p()(y,{VCard:h["a"],VCol:v["a"],VRow:b["a"],VTab:g["a"],VTabItem:k["a"],VTabs:x["a"],VTabsItems:w["a"]});var _={components:{HistoryCharts:S}},C=_,O=Object(m["a"])(C,n,a,!1,null,null,null);t["default"]=O.exports},f682:function(e,t,r){},febb:function(e,t,r){},fee0:function(e,t,r){"use strict";r("57be")}});
//# sourceMappingURL=app.1be905b8.js.map